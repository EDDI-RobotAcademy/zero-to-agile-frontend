import type { RecommendationReport } from "@/types/finder";

export const finderRecommendationsReportMock: RecommendationReport = {
  finder_request_id: 23,
  generated_at: "2026-01-13T14:22:10.123456+00:00",
  status: "SUCCESS",
  detail: null,
  query_context: {
    segment_id: "STUDENT_DEFAULT",
    policy_version: "v1",
    region_scope: null,
    rep_school_set: null,
    cohort_rule: null,
    user_constraints: {
      budget_deposit_max: 1000,
      budget_monthly_max: 80,
      price_type: "MONTHLY",
      preferred_region: "마포구",
      house_type: null,
      additional_condition: null,
      is_near: true,
      aircon_yn: "Y",
      washer_yn: "N",
      fridge_yn: "N",
      max_building_age: 2,
    },
  },
  summary: {
    total_candidates: 120,
    recommended_count: 10,
    rejected_count: 110,
    top_k: 10,
    rejection_top_k: 10,
  },
  recommended_top_k: [
    {
      rank: 1,
      decision_status: "RECOMMENDED",
      house_platform_id: 145,
      raw: {
        house_platform_id: 145,
        title: "신촌 풀옵션 원룸",
        address: "서울 마포구 ...",
        deposit: 500,
        monthly_rent: 55,
        manage_cost: 5,
        snapshot_id: "snap-145",
        sales_type: "월세",
        room_type: "원룸",
        residence_type: "단독",
        contract_area: 18.0,
        exclusive_area: 16.2,
        floor_no: 3,
        all_floors: 6,
        lat_lng: { lat: 37.55, lng: 126.94 },
        image_urls: "[\"https://picsum.photos/seed/rec-1/600/400\"]",
        gu_nm: "마포구",
        dong_nm: "노고산동",
        abang_user_id: null,
        created_at: "2026-01-10T00:00:00+00:00",
        updated_at: "2026-01-12T00:00:00+00:00",
        registered_at: null,
        domain_id: null,
        rgst_no: null,
        pnu_cd: null,
        is_banned: false,
        can_park: false,
        has_elevator: true,
      },
      observation_summary: {
        snapshot_id: "snap-145",
        observation_version: "v1",
        source_data_version: "v1",
        calculated_at: "2026-01-13T14:20:00+00:00",
        price: {
          monthly_cost_est: 60,
          price_percentile: 0.22,
          price_zscore: -0.8,
          price_burden_nonlinear: 0.78,
          estimated_move_in_cost: 560,
        },
        commute: {
          distance_to_school_min: 18.2,
          distance_bucket: "10_20분",
          distance_percentile: 0.18,
          distance_nonlinear_score: 0.86,
          distance_details_top3: [],
        },
        risk: {
          risk_event_count: 0,
          risk_event_types: [],
          risk_probability_est: 0.03,
          risk_severity_score: 0.0,
          risk_nonlinear_penalty: 0.06,
        },
        options: {
          essential_option_coverage: 1.0,
          convenience_score: 0.9,
        },
      },
      score_breakdown: {
        weights: {
          price: 0.35,
          risk: 0.3,
          option: 0.2,
          distance: 0.15,
        },
        price_score: 82.0,
        option_score: 90.0,
        risk_score: 95.0,
        distance_score: 86.0,
        total_score: 88.1,
      },
      ai_explanation: {
        recommended_reasons: [
          {
            code: "AFFORDABLE_IN_COHORT",
            text: "같은 지역·유형·거래 분포에서 월비용이 하위 22% 수준입니다.",
            evidence: {
              price_percentile: 0.22,
              monthly_cost_est: 60,
              cohort_level: "L0",
            },
          },
          {
            code: "GOOD_COMMUTE_TO_REP_SCHOOLS",
            text: "대표 학교 기준 최소 통학 18분(0~20분 구간)으로 이동성이 좋습니다.",
            evidence: {
              distance_to_school_min: 18.2,
              distance_bucket: "0_20",
            },
          },
        ],
        warnings: [],
      },
    },
    {
      rank: 2,
      decision_status: "RECOMMENDED",
      house_platform_id: 146,
      raw: {
        house_platform_id: 146,
        title: "이대 인근 채광 좋은 투룸",
        address: "서울 서대문구 ...",
        deposit: 800,
        monthly_rent: 60,
        manage_cost: 6,
        snapshot_id: "snap-146",
        sales_type: "월세",
        room_type: "투룸",
        residence_type: "단독",
        contract_area: 25.0,
        exclusive_area: 23.5,
        floor_no: 4,
        all_floors: 5,
        lat_lng: { lat: 37.56, lng: 126.95 },
        image_urls: "[\"https://picsum.photos/seed/rec-2/600/400\"]",
        gu_nm: "서대문구",
        dong_nm: "대현동",
        abang_user_id: null,
        created_at: "2026-01-10T00:00:00+00:00",
        updated_at: "2026-01-12T00:00:00+00:00",
        registered_at: null,
        domain_id: null,
        rgst_no: null,
        pnu_cd: null,
        is_banned: false,
        can_park: false,
        has_elevator: false,
      },
      observation_summary: {
        snapshot_id: "snap-146",
        observation_version: "v1",
        source_data_version: "v1",
        calculated_at: "2026-01-13T14:20:00+00:00",
        price: {
          monthly_cost_est: 68,
          price_percentile: 0.32,
          price_zscore: -0.5,
          price_burden_nonlinear: 0.72,
          estimated_move_in_cost: 868,
        },
        commute: {
          distance_to_school_min: 21.5,
          distance_bucket: "20_30분",
          distance_percentile: 0.35,
          distance_nonlinear_score: 0.8,
          distance_details_top3: [],
        },
        risk: {
          risk_event_count: 0,
          risk_event_types: [],
          risk_probability_est: 0.04,
          risk_severity_score: 0.0,
          risk_nonlinear_penalty: 0.08,
        },
        options: {
          essential_option_coverage: 0.9,
          convenience_score: 0.85,
        },
      },
      score_breakdown: {
        weights: {
          price: 0.35,
          risk: 0.3,
          option: 0.2,
          distance: 0.15,
        },
        price_score: 72.0,
        option_score: 90.0,
        risk_score: 88.0,
        distance_score: 80.0,
        total_score: 80.5,
      },
      ai_explanation: {
        recommended_reasons: [
          {
            code: "COMMUTE_OK",
            text: "대표 학교까지 통학 20~30분 구간으로 접근성이 안정적입니다.",
            evidence: {
              distance_to_school_min: 21.5,
              distance_bucket: "20_30",
            },
          },
          {
            code: "COST_BALANCED",
            text: "월비용이 평균 대비 무난한 수준입니다.",
            evidence: {
              price_percentile: 0.32,
              monthly_cost_est: 68,
            },
          },
        ],
        warnings: [],
      },
    },
  ],
  rejected_top_k: [
    {
      rank: 1,
      decision_status: "REJECTED",
      house_platform_id: 512,
      raw: {
        house_platform_id: 512,
        title: "홍대 초역세권 원룸",
        address: "서울 마포구 ...",
        deposit: 2000,
        monthly_rent: 95,
        manage_cost: 10,
        snapshot_id: "snap-512",
        sales_type: "월세",
        room_type: "원룸",
        residence_type: "단독",
        contract_area: 16.0,
        exclusive_area: 14.0,
        floor_no: 5,
        all_floors: 7,
        lat_lng: { lat: 37.56, lng: 126.92 },
        image_urls: "[\"https://picsum.photos/seed/reject-1/600/400\"]",
        gu_nm: "마포구",
        dong_nm: "서교동",
        abang_user_id: null,
        created_at: "2026-01-10T00:00:00+00:00",
        updated_at: "2026-01-12T00:00:00+00:00",
        registered_at: null,
        domain_id: null,
        rgst_no: null,
        pnu_cd: null,
        is_banned: false,
        can_park: false,
        has_elevator: true,
      },
      observation_summary: {
        snapshot_id: "snap-512",
        observation_version: "v1",
        source_data_version: "v1",
        calculated_at: "2026-01-13T14:20:00+00:00",
        price: {
          monthly_cost_est: 105,
          price_percentile: 0.91,
          price_zscore: 1.6,
          price_burden_nonlinear: 0.2,
          estimated_move_in_cost: 2110,
        },
        commute: {
          distance_to_school_min: 35.0,
          distance_bucket: "30_40분",
          distance_percentile: 0.75,
          distance_nonlinear_score: 0.4,
          distance_details_top3: [],
        },
        risk: {
          risk_event_count: 1,
          risk_event_types: ["RISK"],
          risk_probability_est: 0.2,
          risk_severity_score: 0.4,
          risk_nonlinear_penalty: 0.3,
        },
        options: {
          essential_option_coverage: 0.4,
          convenience_score: 0.3,
        },
      },
      score_breakdown: null,
      reject_reasons: [
        {
          code: "SCORE_BELOW_THRESHOLD",
          text: "점수 기준 미달로 제외되었습니다.",
          evidence: {
            base_total_score: 45.0,
            threshold: 50.0,
          },
        },
      ],
      ai_explanation: {
        reject_reasons: [
          {
            code: "SCORE_BELOW_THRESHOLD",
            text: "점수 기준 미달로 제외되었습니다.",
            evidence: {
              base_total_score: 45.0,
              threshold: 50.0,
            },
          },
        ],
        warnings: ["점수 기준 미달로 후보에서 제외되었습니다."],
      },
    },
    {
      rank: 2,
      decision_status: "REJECTED",
      house_platform_id: 513,
      raw: {
        house_platform_id: 513,
        title: "공덕역 인근 원룸",
        address: "서울 마포구 ...",
        deposit: 1200,
        monthly_rent: 85,
        manage_cost: 8,
        snapshot_id: "snap-513",
        sales_type: "월세",
        room_type: "원룸",
        residence_type: "단독",
        contract_area: 18.0,
        exclusive_area: 16.4,
        floor_no: 2,
        all_floors: 4,
        lat_lng: { lat: 37.54, lng: 126.95 },
        image_urls: "[\"https://picsum.photos/seed/reject-2/600/400\"]",
        gu_nm: "마포구",
        dong_nm: "공덕동",
        abang_user_id: null,
        created_at: "2026-01-10T00:00:00+00:00",
        updated_at: "2026-01-12T00:00:00+00:00",
        registered_at: null,
        domain_id: null,
        rgst_no: null,
        pnu_cd: null,
        is_banned: false,
        can_park: true,
        has_elevator: false,
      },
      observation_summary: {
        snapshot_id: "snap-513",
        observation_version: "v1",
        source_data_version: "v1",
        calculated_at: "2026-01-13T14:20:00+00:00",
        price: {
          monthly_cost_est: 92,
          price_percentile: 0.76,
          price_zscore: 1.2,
          price_burden_nonlinear: 0.3,
          estimated_move_in_cost: 1292,
        },
        commute: {
          distance_to_school_min: 32.0,
          distance_bucket: "30_40분",
          distance_percentile: 0.68,
          distance_nonlinear_score: 0.5,
          distance_details_top3: [],
        },
        risk: {
          risk_event_count: 0,
          risk_event_types: [],
          risk_probability_est: 0.06,
          risk_severity_score: 0.1,
          risk_nonlinear_penalty: 0.12,
        },
        options: {
          essential_option_coverage: 0.8,
          convenience_score: 0.7,
        },
      },
      score_breakdown: null,
      reject_reasons: [
        {
          code: "SCORE_BELOW_THRESHOLD",
          text: "점수 기준 미달로 제외되었습니다.",
          evidence: {
            base_total_score: 48.0,
            threshold: 50.0,
          },
        },
      ],
      ai_explanation: {
        reject_reasons: [
          {
            code: "SCORE_BELOW_THRESHOLD",
            text: "점수 기준 미달로 제외되었습니다.",
            evidence: {
              base_total_score: 48.0,
              threshold: 50.0,
            },
          },
        ],
        warnings: ["점수 기준 미달로 후보에서 제외되었습니다."],
      },
    },
  ],
};
